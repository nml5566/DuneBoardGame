module.exports = testTreacheryDeck;

var assert = require("assert");
var modulino = require("modulino");
var treacheryDeck = require("Dune/Deck/Treachery");

var cardsSeen = { };

modulino(testTreacheryDeck, module);

function testTreacheryDeck()
{
  dealEntireDeck();

  
  testTreacheryCardsUniqueCount();
  testTreacheryCardsDuplicateCount();
  
}

function dealEntireDeck()
{
  for (var i = 0; i < 33; i++)
  {
    var treacheryCard = treacheryDeck.dealCard();
    if (cardsSeen[treacheryCard] === undefined) cardsSeen[treacheryCard] = 0; 
    cardsSeen[treacheryCard]++;
  }
}

function testTreacheryCardsUniqueCount() 
{
  assert(Object.keys(cardsSeen).length == 25, 
    "There are 25 unique treachery card types");
}

function testTreacheryCardsDuplicateCount() 
{
  assert(cardsSeen.shield == 4, "There are 4 shield duplicates");
  assert(cardsSeen.snooper == 4, "There are 4 snooper duplicates");
  assert(cardsSeen.cheaphero == 2, "There are 2 cheaphero duplicates");
  assert(cardsSeen.karama == 2, "There are 2 karama duplicates");
}
