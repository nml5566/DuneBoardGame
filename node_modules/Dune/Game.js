module.exports = Game;

function Game() {

  this.newFaction = newFaction;
  this.getMap = getMap;

  function newFaction(factionName) {
    var FactionModule = getFactionModule(factionName);
    return new FactionModule();
  }

  function getFactionModule(factionName) {
    switch(factionName) {
      case "Atreides":
	return require("./Factions/Atreides");
      case "BeneGesserit":
	return require("./Factions/BeneGesserit");
      case "Harkonnen":
	return require("./Factions/Harkonnen");
      case "Fremen":
	return require("./Factions/Fremen");
      case "Guild":
	return require("./Factions/Guild");
      case "Emperor":
	return require("./Factions/Emperor");
      default:
      	throw new Error("Invalid faction: " + factionName);
    }
  }

  function getMap() {
    var ArrakisMap = require("./Map");
    return new ArrakisMap();
  }

}
