var Loader = require("Dune/Loader");
var mapView = require("Dune/View/Map");
var DeckViewDecorator = require("Dune/View/Deck/Base");

module.exports = new BonusDeckView();

function BonusDeckView() 
{
  var bonusDeckImages = new Array(
    "carryalls", "harvesters", "ornithopters", "smugglers"
  );

  loadImages();

  var args = {"getCardImage": getBonusCardImage}; 
  DeckViewDecorator(this, args);

  function loadImages() 
  {
    var loader = new Loader();

    for (var i = 0; i < bonusDeckImages.length; i++) {
      var bonusDeckImage = bonusDeckImages[i];
      var bonusImgUrl = "/img/bonus/" + bonusDeckImage + ".png";
      bonusDeckImages[bonusDeckImage] = loader.loadImage(bonusImgUrl);
    }
  }

  function getBonusCardImage(cardName) {
    if (!bonusDeckImages[cardName]) 
      throw new Error("No bonus card named " + cardName);

    var bonusCardImg = bonusDeckImages[cardName];
    return bonusCardImg;
  }

}
