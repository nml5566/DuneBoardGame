module.exports = HarkonnenView;

var FactionDecorator = require("./Base");
var gameView = require("Dune/View/Game");
//var controller = require("../../Controller");
var eventChain = require("Dune/EventChain");

function HarkonnenView() {

  var images = {
    "troop": "harkonnen.png",
    "leaderPath": "/img/leaders/harkonnen/",
    "leaders": [ "beast_rabban.png", "captain_iakin_nefud.png", "feyd_rautha.png", 
      "piter_de_vries.png", "umman_kudu.png" ],
    "emblem": "harkonnen-53x53.png"
  }

  FactionDecorator(this, {
    "faction": gameView.players['Harkonnen'],
    //"initialTreacheryHand": 2,
    "images": images
  });

  var obj = this;

  var parentStartInitialTurn = this.startInitialTurn;

  this.startInitialTurn = function() {
   parentStartInitialTurn()

    var shipTroops = eventChain.removeLast();
    var addTreacheryCard = eventChain.removeLast();
    var drawTreacheryCard = eventChain.removeLast();

    eventChain.add([
	    drawTreacheryCard, addTreacheryCard,
	    drawTreacheryCard, addTreacheryCard,
	    shipTroops
    ]);

  }

/*  this.shipInitialTroops = function() {*/
    //console.log('harkonnen ship troops');
  /*}*/
}
