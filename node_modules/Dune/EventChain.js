module.exports = new EventChain();

function EventChain() 
{
  var stack = new Array();

  this.add = function(list) 
  {
    if (list instanceof Array)
    {
      stack = stack.concat(list);
    } 
    else 
    {
      stack.push(list);
    }
  }

  this.next = function() 
  {
    if (! stack.length) return;

    var nextEvent = stack.shift();
    nextEvent();
  }

  this.removeLast = function() 
  {
    var lastEvent = stack.pop();
    return lastEvent;
  }
}
